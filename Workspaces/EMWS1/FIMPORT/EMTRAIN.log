*------------------------------------------------------------*
* Training Log
Date:                2024年01月07日
Time:                16时43分14秒
*------------------------------------------------------------*
14714  proc freq data=EMWS1.FIMPORT_VariableSet noprint;
14715  table ROLE*LEVEL/out=WORK.FIMPORTMETA;
14716  run;

NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_VARIABLESET.
NOTE: The data set WORK.FIMPORTMETA has 6 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

14717  proc print data=WORK.FIMPORTMETA label noobs;
14718  var ROLE LEVEL COUNT;
14719  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
14720  title9 ' ';
14721  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
14722  run;

NOTE: There were 6 observations read from the data set WORK.FIMPORTMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

14723  title10;

14724  %let EMEXCEPTIONSTRING=;
15063  *------------------------------------------------------------*;
15064  * FIMPORT: Generation of macros and macro variables;
15065  * To see the code generated, set the EM_DEBUG macro variable to SOURCE or _ALL_;
15066  *------------------------------------------------------------*;

15067  %let EMEXCEPTIONSTRING=;
15068  *------------------------------------------------------------*;
15069  * TRAIN: FIMPORT;
15070  *------------------------------------------------------------*;
15071  %let EM_ACTION = TRAIN;
15072  %let syscc = 0;
15073  /* Fimport.source */
15074  %macro main;
15075        %if %upcase(&EM_ACTION) = CREATE %then %do;
15076           filename temp catalog 'sashelp.emsamp.Fimport_create.source';
15077           %include temp;
15078           filename temp;
15079           %create;
15080        %end;
15081        %else
15082        %if %upcase(&EM_ACTION) = TRAIN %then %do;
15083           filename temp catalog 'sashelp.emsamp.Fimport_train.source';
15084           %include temp;
15085           filename temp;
15086           %train;
15087        %end;
15088        %else
15089        %if %upcase(&EM_ACTION) = UPDATE %then %do;
15090           filename temp catalog 'sashelp.emsamp.Fimport_update.source';
15091           %include temp;
15092           filename temp;
15093           %update;
15094        %end;
15095        %else
15096        %if %upcase(&EM_ACTION) = PROPERTY %then %do;
15097           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
15098           %include temp;
15099           filename temp;
15100           %property;
15101        %end;
15102         %else
15103        %if %upcase(&EM_ACTION) = SCORE %then %do;
15104           filename temp catalog 'sashelp.emsamp.Fimport_score.source';
15105           %include temp;
15106           filename temp;
15107           %score;
15108        %end;
15109        %else
15110        %if %upcase(&EM_ACTION) = REPORT %then %do;
15111           filename temp catalog 'sashelp.emsamp.Fimport_report.source';
15112           %include temp;
15113           filename temp;
15114           %report;
15115        %end;
15116        %else
15117        %if %upcase(&EM_ACTION) = OPENVARIABLESET %then %do;
15118           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
15119           %include temp;
15120           filename temp;
15121           %openvariableset;
15122        %end;
15123        %else
15124        %if %upcase(&EM_ACTION) = CLOSEVARIABLESET %then %do;
15125           filename temp catalog 'sashelp.emsamp.Fimport_actions.source';
15126           %include temp;
15127           filename temp;
15128           %closevariableset;
15129        %end;
15130  %mend main;
15131  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMSAMP.FIMPORT_TRAIN.SOURCE.
15132 +%EM_GETNAME(key=USERIMPORTFILE, type=FILE, extension=txt);
15133 +%macro appendExt;
15134 +   data _null_;
15135 +      tempuif =  trim("&EM_USER_USERIMPORTFILE");
15136 +      rfile = reverse(tempuif);
15137 +      period = indexc(rfile,".");
15138 +      uif = substr(tempuif, 1, length(tempuif)- period+1);
15139 +      newuif = trim(uif)||trim("&EM_PROPERTY_FILETYPE");
15140 +      call symput("EM_USER_USERIMPORTFILE",%bquote(newuif));
15141 +   run;
15142 +%mend appendExt;
15144 +%macro getNobs(ds);
15145 + %global dset nobs;
15146 + %let dset=&ds;
15147 + %let dsid = %sysfunc(open(&dset));
15148 + %if &dsid %then %do;
15149 +      %let nobs =%sysfunc(attrn(&dsid,nobs));
15150 +      %let rc = %sysfunc(close(&dsid));
15151 +   %end;
15152 + %else %put open for data set &dset failed - %sysfunc(sysmsg());
15153 +%mend getNobs;
15154 +%macro keepordrop;
15155 +  proc contents data=work.importfile noprint
15156 +  out=work.importattrs;
15157 +  run;
15158 +  %getNobs(work.importattrs);
15159 +  data _null_;
15160 +    set  work.importattrs;
15161 +    call symput("varname"||left(_n_),name);
15162 +  run;
15164 +  %put nobs=&nobs  maxcols=&EM_PROPERTY_MAXCOLS;
15165 +  /* importattrs contains 1 observation for each VARIABLE in the data set. */
15166 +  %if &nobs > &EM_PROPERTY_MAXCOLS %then %do;
15167 +     %let diff = %eval(&nobs - &EM_PROPERTY_MAXCOLS);
15168 +     %put diff=&diff;
15169 +     %if %eval(&diff ge &EM_PROPERTY_MAXCOLS) %then %do;
15170 +         %let kORd = keep;
15171 +             %let start=1;
15172 +             %let end = &EM_PROPERTY_MAXCOLS;
15173 +       %end;
15174 +     %else %do;
15175 +         %let kORd = drop;
15176 +             %let start = &EM_PROPERTY_MAXCOLS + 1;
15177 +             %let end = &nobs;
15178 +       %end;
15179 +     data &em_user_data;
15180 +        set &em_user_data;
15181 +        &kORd
15182 +        %do i = &start %to &end;
15183 +            &&varname&i
15184 +         %end;
15185 +        ;
15186 +     run;
15187 +%end;
15188 +%mend keepordrop;
15189 +%macro dropformatvars;
15190 +   %put fmtcnt=&fmtcnt;
15191 +   data new;
15192 +     set work.importfile;
15193 +     %do i = 1 %to &fmtcnt;
15194 +       x1zy&i =put(&&varname&i,&&fmt&i);
15195 +     %end;
15196 +   run;
15197 +   data new;
15198 +     set new;
15199 +     drop
15200 +     %do i = 1 %to &fmtcnt;
15201 +     &&varname&i
15202 +     %end;
15203 +     ;
15204 +   run;
15205 +   proc datasets library=work nolist;
15206 +     modify new;
15207 +     %do i = 1 %to &fmtcnt;
15208 +     rename x1zy&i=&&varname&i;
15209 +     %end;
15210 +   run; quit;
15211 +   data work.importfile;
15212 +     set new;
15213 +   run;
15214 +%mend;
15216 +%macro procimport(out=);
15217 +   %if %upcase(&EM_PROPERTY_FILETYPE)=MDB %then %do;
15218 +      proc import table=%sysfunc(trim(&EM_PROPERTY_ACCESSTABLE))
15219 +         out=&out
15220 +         dbms = ACCESS
15221 +         replace;
15222 +         database="%trim(&_IFILENAME)"
15223 +   %end;
15224 +   %else %do;
15225 +       proc import datafile="%trim(&_IFILENAME)"
15226 +          out=&out
15228 +      %put filetype=*&EM_PROPERTY_FILETYPE.*;
15229 +      %put delimiter=*&EM_PROPERTY_DELIMITER.*;
15230 +      %if %upcase(&EM_PROPERTY_FILETYPE) ^= TXT %then %do;
15231 +         dbms=&EM_PROPERTY_FILETYPE
15232 +      %end;
15233 +      %else %do;
15234 +         dbms=TAB
15235 +      %end;
15236 +      /* Work around for the following defects:S0560899 and S0560009.   */
15237 +      %let sasEnv=%sysfunc(getlocenv());
15238 +      %if %upcase(&EM_PROPERTY_FILETYPE) = XLS and %upcase(&sasEnv) ^= SBCS %then %do;
15239 +         dbms=EXCEL
15240 +      %end;
15242 +      replace;
15243 +      %if %substr(%upcase(&EM_PROPERTY_FILETYPE),1,2)=WK | %upcase(&EM_PROPERTY_FILETYPE)=XLS
15244 +       | %upcase(&EM_PROPERTY_FILETYPE)=DLM | %upcase(&EM_PROPERTY_FILETYPE)=CSV
15245 +       | %upcase(&EM_PROPERTY_FILETYPE)=TAB | %upcase(&EM_PROPERTY_FILETYPE)=TXT %then %do;
15246 +        %if %length(&EM_PROPERTY_NAMEROW) > 0 %then %do;
15247 +            getnames=&EM_PROPERTY_NAMEROW;
15248 +        %end;
15249 +      %end;
15250 +      %if %upcase(&EM_PROPERTY_FILETYPE)=CSV | %upcase(&EM_PROPERTY_FILETYPE)=DLM |
15251 +          %upcase(&EM_PROPERTY_FILETYPE=TXT)  %then %do;
15252 +         %if (%length(%trim(%bquote(&EM_PROPERTY_DELIMITER))) > 0) %then %do;
15253 +            %if "%upcase(&EM_PROPERTY_DELIMITER)"="SP" %then %do;
15254 +               delimiter=" ";
15255 +            %end;
15256 +            %else %if "%upcase(&EM_PROPERTY_DELIMITER)"="TAB" %then %do;
15257 +               /* Do not specifiy a delimiter */
15258 +            %end;
15259 +            %else %do;
15260 +               delimiter="&EM_PROPERTY_DELIMITER";
15261 +            %end;
15262 +         %end;
15263 +         %if %eval(&EM_PROPERTY_SKIPROWS > 0) %then %do;
15264 +            datarow=&EM_PROPERTY_SKIPROWS;
15265 +            /* Guessingrows must be >= skiprows */
15266 +            %if %eval(&EM_PROPERTY_GUESSROWS < &EM_PROPERTY_SKIPROWS ) %then %do;
15267 +              %let EM_PROPERTY_GUESSROWS = &EM_PROPERTY_SKIPROWS;
15268 +            %end;
15269 +         %end;
15270 +         %if %eval(&EM_PROPERTY_GUESSROWS > 0) %then %do;
15271 +            guessingrows=&EM_PROPERTY_GUESSROWS;
15272 +         %end;
15273 +       %end;
15274 +      %if %upcase(&EM_PROPERTY_FILETYPE)=DTA | %upcase(&EM_PROPERTY_FILETYPE)=JMP
15275 +                 | %upcase(&EM_PROPERTY_FILETYPE)=SAV %then %do;
15276 +            FMTLIB = work.formats;
15277 +      %end;
15278 +   %end;
15279 +   run;
15280 +%mend procimport;
15282 +%macro train;
15284 +   %let vvnString = %sysfunc(getoption(validvarname));
15286 +   %em_getname(key=DATA,           type=DATA);
15287 +   %em_getname(key=EMCMETADEFAULT, type=DATA);
15288 +   %em_getname(key=EMTMETADEFAULT, type=DATA);
15289 +   %em_getname(key=EMSTATDEFAULT, type=DATA);
15291 +   %appendExt;
15293 +   %let _IFILENAME = %nrbquote(%trim(&EM_PROPERTY_IFILENAME));
15294 +   %if %upcase(&EM_PROPERTY_IMPORTTYPE) = LOCAL %then %do;
15295 +       %if %nrbquote(%sysfunc(fileexist(&EM_USER_USERIMPORTFILE))) %then
15296 +           %let _IFILENAME = %nrbquote(&EM_USER_USERIMPORTFILE);
15297 +   %end;
15299 +   %if ^%sysfunc(fileexist(%nrbquote(&_IFILENAME))) %then %do;
15300 +       %let EMEXCEPTIONSTRING = exception.server.EMTOOL.NOTRAININGCODEFILE,%nrbquote(&_IFILENAME);
15301 +       %goto endtrain;
15302 +   %end;
15304 +   options validvarname=ANY;
15305 +   %procimport(out=work.importfile);
15307 +   %if %upcase(&EM_PROPERTY_FILETYPE) = DTA | %upcase(&EM_PROPERTY_FILETYPE) = JMP
15308 +              | %upcase(&EM_PROPERTY_FILETYPE)=SAV %then %do;
15309 +      %global fmtcnt;
15310 +      %let fmtcnt=0;
15311 +      proc contents data=work.importfile out=work.impattrs noprint;
15312 +      run;
15313 +      data _null_;
15314 +        set work.impattrs;
15315 +        if _n_=1 then i=0;
15316 +        if substr(format,1,1) ^= "$" and length(trim(format)) > 1 then do;
15317 +           i = i+1;
15318 +           varname = substr(name, 1, length(name));
15319 +           call symput("fmt"||left(i), trim(format)||".");
15320 +           call symput("varname"||left(i), varname);
15321 +           call symput("fmtcnt",left(i));
15322 +      end;
15323 +      retain i;
15324 +     run;
15325 +    %if &fmtcnt > 0 %then %do;
15326 +       %dropformatvars;
15327 +    %end;
15328 +    proc datasets lib=work memtype=data nolist;
15329 +        modify importfile;
15330 +        attrib _all_ format=;
15331 +    run;
15332 +    quit;
15333 +   %end;
15335 +   %let _fimportObs  = 0;
15336 +   %let _fimportVars = 0;
15337 +   %if %sysfunc(exist(work.importFile)) %then %do;
15338 +       %let dsid = %sysfunc(open(work.importFile));
15339 +       %if &dsid %then %do;
15340 +           %let _fimportObs  = %sysfunc(attrn(&dsid, NOBS));
15341 +           %let _fimportVars = %sysfunc(attrn(&dsid, NVARS));
15342 +       %let dsid = %sysfunc(close(&dsid));
15343 +       %end;
15344 +   %end;
15346 +   %if ^&_fimportObs %then %do;
15347 +       %let EMEXCEPTIONSTRING = exception.server.EMTOOL.FILE_NO_OBS;
15348 +       %goto endtrain;
15349 +   %end;
15350 +   %if ^&_fimportVars %then %do;
15351 +       %let EMEXCEPTIONSTRING = exception.server.EMTOOL.FILE_NO_VARS;
15352 +       %goto endtrain;
15353 +   %end;
15355 +   data &em_user_data;
15356 +      set work.importfile(obs=&EM_PROPERTY_MAXROWS);
15357 +   run;
15358 +   %keepordrop;
15360 +   %em_getname(key=EMSTAT,     type=DATA);
15362 +   proc datasets lib=&em_lib nolist;
15363 +      delete &em_nodeid._EMSTATDEFAULT &em_nodeid._EMINFO;
15364 +   run;
15366 +   %if "&em_property_advancedadvisor" eq "Y" %then %do;
15367 +        %EmAdviseColumns(&em_user_data, applyIntervalLevelLowerLimit=Y,
15368 +            intervalLevelLowerLimit=20, applyMaxPercentMissing=Y,
15369 +            maxPercentMissing=50, applyMaxClassLevels=Y,
15370 +            maxClassLevels=20, identifyEmptyColumns=Y,
15371 +            outdata=&em_user_EMCMETADEFAULT,
15372 +            computeStat=Y, statisticData=&em_user_EMSTATDEFAULT);
15374 +        data &em_user_emcmetadefault;
15375 +           set &em_user_emcmetadefault;
15376 +           drop nlevel pctmiss min max mean std skewness kurtosis;
15377 +        run;
15379 +        data &em_data_eminfo;
15380 +           length TARGET KEY $32  DATA $43;
15381 +           TARGET=""; KEY="STATS"; DATA="&em_user_emstatdefault"; output;
15382 +        run;
15384 +        %let EM_META_ADVISOR=ADVANCED;
15386 +   %end;
15387 +   %else %do;
15388 +       %EmAdviseColumns(&em_user_data, applyIntervalLevelLowerLimit=N,
15389 +            applyMaxPercentMissing=N, applyMaxClassLevels=N,
15390 +            identifyEmptyColumns=N,   maxLevelDetection=0,
15391 +            outdata=&em_user_EMCMETADEFAULT, computeStat=N, statisticData=WORK.STATISTIC);
15393 +            %if "&em_property_summarize" eq "Y" %then %do;
15394 +                %em_getname(key=EMSTAT,  type=DATA);
15395 +                data &em_data_eminfo;
15396 +                   length TARGET KEY $32  DATA $43;
15397 +                   TARGET=""; KEY="STATS"; DATA="&em_user_emstat"; output;
15398 +                run;
15399 +            %end;
15401 +        %let EM_META_ADVISOR=BASIC;
15403 +   %end;
15405 +   %em_getname(key=VVNLABEL, type=FILE, extension=sas);
15406 +   data _null_;
15407 +      fname = '_text';
15408 +      rc=filename(fname, "&em_user_vvnlabel");
15409 +      if ^rc and fexist(fname) then
15410 +         rc=fdelete(fname);
15411 +     rc=filename(fname);
15412 +   run;
15415 +   /* Validvarname Case */
15416 +   %let newNameFlag = 0;
15417 +   %if %sysfunc(exist(&em_user_EMCMETADEFAULT)) %then %do;
15418 +       %let dsid = %sysfunc(open(&em_user_EMCMETADEFAULT));
15419 +        %if &dsid %then %do;
15420 +            %let newNameFlag = %sysfunc(varnum(&dsid, NEWNAME));
15421 +            %let dsid = %sysfunc(close(&dsid));
15422 +       %end;
15423 +   %end;
15425 +   %if %sysevalf(&newNameFlag>0) %then %do;
15426 +       proc contents data=work.importfile noprint out=work._any(keep=VARNUM NAME LABEL);
15427 +       run;
15428 +       proc sort data=work._any; by VARNUM; run; quit;
15430 +       options validvarname=V7;
15432 +       %procimport(out=work.importfile2);
15434 +       options validvarname=ANY;
15436 +       proc contents data=work.importfile2 noprint out=work._v7(rename=(NAME=V7NAME) keep=VARNUM NAME LABEL);
15437 +       run;
15438 +       proc sort data=work._v7; by varnum; run; quit;
15440 +       filename _FI "&em_user_vvnlabel";
15441 +       data work._names;
15442 +          length string $200;
15443 +          merge work._v7 work._any;
15444 +          by VARNUM;
15445 +          file _FI;
15446 +          if V7NAME ne NAME then do;
15447 +             string = trim(V7NAME)!!'= "'!!tranwrd(trim(NAME), '"', '""')!!'"n;';
15448 +             put string;
15449 +             if LABEL eq '' then do;
15450 +                string = 'Label '!!trim(V7NAME)!!"='"!!tranwrd(trim(NAME), "'", "''")!!"';";
15451 +                put string;
15452 +             end;
15453 +             string='drop "'!!tranwrd(trim(NAME), '"', '""')!!'"n;';
15454 +             put string;
15455 +          end;
15456 +          drop string;
15457 +       run;
15458 +       data &em_user_data;
15459 +          set &em_user_data;
15460 +          %if %sysfunc(fileexist(%nrbquote(&em_user_vvnlabel))) %then %do;
15461 +              filename _FI "&em_user_vvnlabel";
15462 +              %inc _FI;
15463 +             filename _FI;
15464 +          %end;
15465 +       run;
15467 +       proc sort data=&em_user_EMCMETADEFAULT; by NAME; run;
15468 +       proc sort data=work._names;             by NAME; run;
15470 +       data &em_user_EMCMETADEFAULT;
15471 +         merge  &em_user_EMCMETADEFAULT _names;
15472 +         by NAME;
15473 +         length DROP $1;
15474 +         DROP='N';
15475 +         if NEWNAME ne NAME then do;
15476 +            if LABEL eq '' then do;
15477 +               LABEL = NAME;
15478 +            end;
15479 +            NAME=V7NAME;
15480 +         end;
15481 +         drop NEWNAME V7NAME VARNUM;
15482 +       run;
15484 +       proc datasets lib=work nolist;
15485 +          delete _any _v7 _names importfile2;
15486 +       run;
15487 +       quit;
15489 +   %end;
15490 +   %else %do;
15491 +       data &em_user_EMCMETADEFAULT;
15492 +          set &em_user_EMCMETADEFAULT;
15493 +          length DROP $1;
15494 +          DROP='N';
15495 +       run;
15496 +   %end;
15498 +    %EmAdviseTable(&em_user_data, outdata=&em_user_EMTMETADEFAULT, newdataflag=Y);
15500 +   data _temp;
15501 +      set &em_user_emtmetadefault(rename=(ROLE=PORT MEMNAME=DATASET CRDATE=MODTIME));
15502 +      keep PORT LIBNAME DATASET MODTIME COLUMNMETA COLUMNMETAMODTIME NOBS;
15503 +      PORT='DATA'; COLUMNMETA="&em_nodeid._EMCMETADEFAULT";
15504 +      COLUMNMETAMODTIME=MODTIME;
15505 +   run;
15506 +   proc sort data=&em_data_importset;
15507 +      by PORT;
15508 +   run;
15509 +   data &em_data_importset;
15510 +      merge &em_data_importset _temp;
15511 +      by PORT;
15512 +      if PORT='DATA' then ROLE="&em_property_role";
15513 +   run;
15515 +    %em_getname(key=VARIABLESETDELTA, type=FILE, extension=txt);
15517 +    %if %sysfunc(exist(&em_user_emcmetadefault)) %then %do;
15518 +        %if %sysfunc(fileexist(&em_user_variablesetdelta)) %then %do;
15519 +            filename x "&em_user_variablesetdelta";
15520 +            data &em_data_variableset;
15521 +               set &em_user_emcmetadefault;
15522 +               %inc X;
15523 +            run;
15524 +            filename x;
15525 +        %end;
15526 +        %else %do;
15527 +            data &em_data_variableset;
15528 +               set &em_user_emcmetadefault;
15529 +            run;
15530 +        %end;
15531 +    %end;
15533 +   %if %sysfunc(exist(&em_data_variableset)) and %sysfunc(exist(&em_user_emcmetadefault)) %then %do;
15534 +      proc compare compare=&em_data_variableset base=&em_user_emcmetadefault
15535 +         noprint outnoequal outbase outcomp out=_DiffMeta noprint;
15536 +         id NAME;
15537 +      run;
15539 +         filename x1 "&EM_FILE_CDELTA_TRAIN";
15540 +         data _null_;
15541 +            length string $200;
15542 +            set _DiffMeta end=eof;
15543 +            where _type_='COMPARE';
15544 +            file x1;
15545 +            string = 'if NAME="'!!strip(NAME)!!'" then do;';
15546 +            put string;
15547 +            string = '   ROLE="'!!strip(ROLE)!!'";';
15548 +            put string;
15549 +            string=  '   LEVEL="'!!strip(LEVEL)!!'";';
15550 +            put string;
15551 +            string = '   ORDER="'!!strip(ORDER)!!'";';
15552 +            put string;
15553 +            put 'end;';
15554 +            if drop='Y' then do;
15555 +               string='if NAME="'!!strip(NAME)!!'" then delete;';
15556 +               put string;
15557 +            end;
15558 +            if eof then
15559 +               put 'drop DROP;';
15560 +         run;
15562 +         %em_getname(key=DELTACODE,      type=FILE, extension=txt);
15563 +         filename x2 "&em_user_deltacode";
15564 +         %em_copyfile(infref=x1, outfref=x2);
15565 +         filename x1;
15566 +         filename x2;
15568 +         %em_getname(key=VARIABLESETDELTA, type=FILE, extension=txt);
15569 +         filename x "&em_user_variablesetdelta";
15570 +         data _null_;
15571 +            length string $200;
15572 +            set _DiffMeta end=eof;
15573 +            where _type_='COMPARE';
15574 +            file x;
15575 +            string = 'if NAME="'!!strip(NAME)!!'" then do;';
15576 +            put string;
15577 +            string = '   ROLE="'!!strip(ROLE)!!'";';
15578 +            put string;
15579 +            string=  '   LEVEL="'!!strip(LEVEL)!!'";';
15580 +            put string;
15581 +            string = '   ORDER="'!!strip(ORDER)!!'";';
15582 +            put string;
15583 +            string = '   DROP="'!!strip(DROP)!!'";';
15584 +            put string;
15585 +            put 'end;';
15586 +         run;
15587 +         filename x;
15588 +       proc datasets lib=work nolist;
15589 +          delete _DiffMeta;
15590 +       run;
15592 +       data &em_data_exportset;
15593 +          set &em_data_exportset;
15594 +          if NODEPORT='TRAIN' then do;
15595 +             ROLE="&em_property_role";
15596 +             COLUMNMETAMODTIME=datetime();
15597 +             MODTIME=datetime();
15598 +             DATASET="&em_nodeid._train";
15599 +             COLUMNMETA="&em_nodeid._CMeta_TRAIN";
15600 +             DELTACODE="CDelta_TRAIN";
15601 +             APPLYDELTA='Y';
15602 +             EXPORT='Y';
15603 +             NEEDUPDATE='Y';
15605 +            %if "&em_property_advancedadvisor" eq "Y" %then %do;
15606 +                EMINFO="&em_data_eminfo";
15607 +                EMINFOMODTIME=datetime();
15608 +            %end;
15609 +            %else %do;
15610 +                EMINFO='';
15611 +                EMINFOMODTIME=.;
15612 +            %end;
15613 +          end;
15614 +       run;
15615 +   %end;
15617 +  proc contents data=&em_user_data;
15618 +  run;
15619 +  proc datasets library=work nolist;
15620 +   delete importfile importattrs new;
15621 +   quit;
15622 +  run;
15624 +  /* Reset VALIDVARNAME to original settings */
15625 +  options validvarname=&vvnString;
15627 +  %endtrain:
15628 +%mend train;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

filetype=*csv*
delimiter=*,*

15629   /**********************************************************************
15630   *   PRODUCT:   SAS
15631   *   VERSION:   9.4
15632   *   CREATOR:   External File Interface
15633   *   DATE:      07JAN24
15634   *   DESC:      Generated SAS Datastep Code
15635   *   TEMPLATE SOURCE:  (None Specified.)
15636   ***********************************************************************/
15637      data WORK.IMPORTFILE    ;
15638      %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
15639      infile 'C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv' delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2 ;
15640         informat "Customer ID"N best32. ;
15641         informat Gender $6. ;
15642         informat Age best32. ;
15643         informat City $13. ;
15644         informat "Membership Type"N $6. ;
15645         informat "Total Spend"N best32. ;
15646         informat "Items Purchased"N best32. ;
15647         informat "Average Rating"N best32. ;
15648         informat "Discount Applied"N $5. ;
15649         informat "Days Since Last Purchase"N best32. ;
15650         informat "Satisfaction Level"N $11. ;
15651         format "Customer ID"N best12. ;
15652         format Gender $6. ;
15653         format Age best12. ;
15654         format City $13. ;
15655         format "Membership Type"N $6. ;
15656         format "Total Spend"N best12. ;
15657         format "Items Purchased"N best12. ;
15658         format "Average Rating"N best12. ;
15659         format "Discount Applied"N $5. ;
15660         format "Days Since Last Purchase"N best12. ;
15661         format "Satisfaction Level"N $11. ;
15662      input
15663                  "Customer ID"N
15664                  Gender $
15665                  Age
15666                  City $
15667                  "Membership Type"N $
15668                  "Total Spend"N
15669                  "Items Purchased"N
15670                  "Average Rating"N
15671                  "Discount Applied"N $
15672                  "Days Since Last Purchase"N
15673                  "Satisfaction Level"N $
15674      ;
15675      if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
15676      run;

NOTE: The infile 'C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv' is:
      Filename=C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=21631,
      Last Modified=2024年01月07日 01时52分56秒,
      Create Time=2024年01月07日 01时49分28秒

NOTE: 350 records were read from the infile 'C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv'.
      The minimum record length was 50.
      The maximum record length was 63.
NOTE: The data set WORK.IMPORTFILE has 350 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

350 rows created in WORK.IMPORTFILE from C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv.
  
  
  
NOTE: WORK.IMPORTFILE data set was successfully created.
NOTE: The data set WORK.IMPORTFILE has 350 observations and 11 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.07 seconds
      cpu time            0.04 seconds
      


NOTE: There were 350 observations read from the data set WORK.IMPORTFILE.
NOTE: The data set EMWS1.FIMPORT_DATA has 350 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK.IMPORTATTRS has 11 observations and 41 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      23:137   
NOTE: There were 11 observations read from the data set WORK.IMPORTATTRS.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

nobs=11  maxcols=10000

NOTE: Deleting EMWS1.FIMPORT_EMSTATDEFAULT (memtype=DATA).
NOTE: Deleting EMWS1.FIMPORT_EMINFO (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


15677  %let SYSCC = 0;
15678  %let _dsidTable = 0;
15679  %let _engineTable =;
15680  data _null_;
15681  dsid = open('EMWS1.FIMPORT_DATA');
15682  call symput('_dsidTable', strip(put(dsid, best.)));
15683  if dsid then do;
15684  call symput('_engineTable', attrc(dsid, 'ENGINE'));
15685  dsid = close(dsid);
15686  end;
15687  run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

15688  options fmterr;
15689  data _metaTestView;
15690  set EMWS1.FIMPORT_DATA;
15691  if _N_=1 then do;
15692  output;
15693  stop;
15694  end;
15695  run;

NOTE: There were 1 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: The data set WORK._METATESTVIEW has 1 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

15696  proc contents data=EMWS1.FIMPORT_DATA
15697  out=WORK.M2VELLEC noprint;
15698  run;

NOTE: The data set WORK.M2VELLEC has 11 observations and 41 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

15699  data WORK.M2VELLEC;
15700  length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 36 INFORMAT $36 INDEX $ 1 INDEXTYPE $ 9;
15701  label NAME =;
15702  set WORK.M2VELLEC(keep=name type length label format formatl formatd informat informl informd idxusage rename=(type=itype));
15703  if itype = 1 then type = 'N';
15704  else type = 'C';
15705  if formatl > 0 then do;
15706  if format ne '' then do;
15707  if type='N' then format = strip(format)!!strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
15708  else format = strip(format)!!strip(put(formatl, best12.))!!'.';
15709  end;
15710  else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
15711  end;
15712  else if format ne '' then format = strip(format)!!'.';
15713  if informl > 0 then do;
15714  if informat ne ' ' then do;
15715  if type='N' then informat = strip(informat)!!strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
15716  else informat = strip(informat)!!strip(put(informl, best12.))!!'.';
15717  end;
15718  else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
15719  end;
15720  else if informat ne '' then informat = strip(informat)!!'.';
15721  if idxusage = 'NONE' then index ="N";
15722  else index = "Y";
15723  indextype = idxusage;
15724  drop idxusage itype formatl formatd informl informd;
15725  run;

NOTE: There were 11 observations read from the data set WORK.M2VELLEC.
NOTE: The data set WORK.M2VELLEC has 11 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

15726  data WORK.M2VELLEC;
15727  length UNAME $64;
15728  set WORK.M2VELLEC;
15729  UNAME = upcase(NAME);
15730  run;

NOTE: There were 11 observations read from the data set WORK.M2VELLEC.
NOTE: The data set WORK.M2VELLEC has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

15734  data WORK.M1YO9WMA;
15735  drop UNAME;
15736  set WORK.M1YO9WMA;
15737  run;

NOTE: There were 11 observations read from the data set WORK.M1YO9WMA.
NOTE: The data set WORK.M1YO9WMA has 11 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

PERFORMANCE  DETAILS
*------------------------------------------------------------* 
Computing data source summary statistics 
*------------------------------------------------------------* 
16070  %let EM_ADVISENCOUNT = -1;
16071  proc dmdb data=EMWS1.FIMPORT_DATA(obs=1000000)
16072  maxlevel = 21
16073  classout=WORK._CLASSSTAT varout=WORK._VARSTAT;
16074  var
16075  'Average Rating'n
16076  'Customer ID'n
16077  'Days Since Last Purchase'n
16078  'Total Spend'n
16079  ;
16080  class
16081  'Age'n
16082  'City'n
16083  'Discount Applied'n
16084  'Gender'n
16085  'Items Purchased'n
16086  'Membership Type'n
16087  'Satisfaction Level'n
16088  ;
16089  run;

NOTE: Records processed = 350   Memory used = 511K.
NOTE: There were 350 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: The data set WORK._CLASSSTAT has 48 observations and 9 variables.
NOTE: The data set WORK._VARSTAT has 4 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

16090  proc sort data=WORK._CLASSSTAT;
16091  by NAME;
16092  run;

NOTE: There were 48 observations read from the data set WORK._CLASSSTAT.
NOTE: The data set WORK._CLASSSTAT has 48 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

16093  data WORK._CLASSSTAT;
16094  set WORK._CLASSSTAT end=eof;
16095  retain NLEVEL PCTMISS NTOTAL 0;
16096  KEEP NAME TYPE NLEVEL PCTMISS;
16097  by NAME;
16098  if first.NAME then do;
16099  NTOTAL = frequency;
16100  if LEVEL in('', '.') and CRAW eq '' and NRAW=. then do;
16101  PCTMISS=FREQPERCENT;
16102  NLEVEL = 0;
16103  end;
16104  else do;
16105  NLEVEL=1;
16106  PCTMISS=0;
16107  end;
16108  end;
16109  else do;
16110  NLEVEL + 1;
16111  NTOTAL + FREQUENCY;
16112  end;
16113  if last.NAME then do;
16114  if eof then call symput('EM_ADVISENCOUNT', strip(put(ntotal, best.)));
16115  output;
16116  end;
16117  run;

NOTE: There were 48 observations read from the data set WORK._CLASSSTAT.
NOTE: The data set WORK._CLASSSTAT has 7 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

16118  data WORK._VARSTAT;
16119  set WORK._VARSTAT end=eof;
16120  retain TYPE 'N';
16121  PCTMISS = 100*NMISS/(NMISS + N);
16122  drop N
16123  ;
16124  if eof then call symput('EM_ADVISENCOUNT', strip(put(nmiss + n, best.)));
16125  run;

NOTE: There were 4 observations read from the data set WORK._VARSTAT.
NOTE: The data set WORK._VARSTAT has 4 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

16126  data EMWS1.FIMPORT_EMSTATDEFAULT;
16127  length Name $32 Type $1 nlevel pctmiss min max mean std skewness kurtosis 8;
16128  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" TYPE = "%sysfunc(sasmsg(sashelp.dmine, meta_type_vlabel,  NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" PCTMISS =
16129     "%sysfunc(sasmsg(sashelp.dmine, rpt_pctmissing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
16130     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
16131     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))";
16132  format NLEVEL 6.0 PCTMISS MIN MAX MEAN STD SKEWNESS KURTOSIS BEST8.3;
16133  set WORK._VARSTAT WORK._CLASSSTAT;
16134  drop NMISS;
16135  run;

NOTE: There were 4 observations read from the data set WORK._VARSTAT.
NOTE: There were 7 observations read from the data set WORK._CLASSSTAT.
NOTE: The data set EMWS1.FIMPORT_EMSTATDEFAULT has 11 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

16136  proc sort data=EMWS1.FIMPORT_EMSTATDEFAULT;
16137  by NAME;
16138  run;

NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_EMSTATDEFAULT.
NOTE: The data set EMWS1.FIMPORT_EMSTATDEFAULT has 11 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

16139  proc sort data=WORK.M1YO9WMA;
16140  by NAME;
16141  run;

NOTE: There were 11 observations read from the data set WORK.M1YO9WMA.
NOTE: The data set WORK.M1YO9WMA has 11 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

16142  data WORK.M1YO9WMA;
16143  merge WORK.M1YO9WMA EMWS1.FIMPORT_EMSTATDEFAULT;
16144  by NAME;
16145  if FORMATTYPE in("DATE", "DATETIME", "TIME") then do;
16146  MEAN=.;
16147  MIN=.;
16148  MAX=.;
16149  STD=.;
16150  SKEWNESS=.;
16151  KURTOSIS=.;
16152  end;
16153  else if ROLE = 'ID' then do;
16154  MEAN=.;
16155  STD=.;
16156  SKEWNESS=.;
16157  KURTOSIS=.;
16158  end;
16159  if NLEVEL = 1 then LEVEL='UNARY';
16160  else if NLEVEL = 2 then LEVEL='BINARY';
16161  else if NLEVEL > 2 then LEVEL='NOMINAL';
16162  run;

NOTE: There were 11 observations read from the data set WORK.M1YO9WMA.
NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_EMSTATDEFAULT.
NOTE: The data set WORK.M1YO9WMA has 11 observations and 29 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: PROCEDURE DISPLAY used (Total process time):
      real time           0.27 seconds
      cpu time            0.03 seconds
      


NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_EMCMETADEFAULT.
NOTE: The data set EMWS1.FIMPORT_EMCMETADEFAULT has 11 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set EMWS1.FIMPORT_EMINFO has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The data set WORK._ANY has 11 observations and 3 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 11 observations read from the data set WORK._ANY.
NOTE: The data set WORK._ANY has 11 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

filetype=*csv*
delimiter=*,*

16163   /**********************************************************************
16164   *   PRODUCT:   SAS
16165   *   VERSION:   9.4
16166   *   CREATOR:   External File Interface
16167   *   DATE:      07JAN24
16168   *   DESC:      Generated SAS Datastep Code
16169   *   TEMPLATE SOURCE:  (None Specified.)
16170   ***********************************************************************/
16171      data WORK.IMPORTFILE2    ;
16172      %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
16173      infile 'C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv' delimiter = ',' MISSOVER DSD lrecl=32767 firstobs=2 ;
16174         informat Customer_ID best32. ;
16175         informat Gender $6. ;
16176         informat Age best32. ;
16177         informat City $13. ;
16178         informat Membership_Type $6. ;
16179         informat Total_Spend best32. ;
16180         informat Items_Purchased best32. ;
16181         informat Average_Rating best32. ;
16182         informat Discount_Applied $5. ;
16183         informat Days_Since_Last_Purchase best32. ;
16184         informat Satisfaction_Level $11. ;
16185         format Customer_ID best12. ;
16186         format Gender $6. ;
16187         format Age best12. ;
16188         format City $13. ;
16189         format Membership_Type $6. ;
16190         format Total_Spend best12. ;
16191         format Items_Purchased best12. ;
16192         format Average_Rating best12. ;
16193         format Discount_Applied $5. ;
16194         format Days_Since_Last_Purchase best12. ;
16195         format Satisfaction_Level $11. ;
16196      input
16197                  Customer_ID
16198                  Gender $
16199                  Age
16200                  City $
16201                  Membership_Type $
16202                  Total_Spend
16203                  Items_Purchased
16204                  Average_Rating
16205                  Discount_Applied $
16206                  Days_Since_Last_Purchase
16207                  Satisfaction_Level $
16208      ;
16209      if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
16210      run;

NOTE: The infile 'C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv' is:
      Filename=C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv,
      RECFM=V,LRECL=32767,File Size (bytes)=21631,
      Last Modified=2024年01月07日 01时52分56秒,
      Create Time=2024年01月07日 01时49分28秒

NOTE: 350 records were read from the infile 'C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv'.
      The minimum record length was 50.
      The maximum record length was 63.
NOTE: The data set WORK.IMPORTFILE2 has 350 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

350 rows created in WORK.IMPORTFILE2 from C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\USERIMPORTFILE.csv.
  
  
  
NOTE: WORK.IMPORTFILE2 data set was successfully created.
NOTE: The data set WORK.IMPORTFILE2 has 350 observations and 11 variables.
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
      


NOTE: The data set WORK._V7 has 11 observations and 3 variables.
NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 11 observations read from the data set WORK._V7.
NOTE: The data set WORK._V7 has 11 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


NOTE: The file _FI is:
      Filename=C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\VVNLABEL.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=2024年01月07日 16时43分15秒,
      Create Time=2024年01月07日 01时49分29秒

NOTE: 24 records were written to the file _FI.
      The minimum record length was 20.
      The maximum record length was 58.
NOTE: There were 11 observations read from the data set WORK._V7.
NOTE: There were 11 observations read from the data set WORK._ANY.
NOTE: The data set WORK._NAMES has 11 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) file _FI is file C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\VVNLABEL.sas.
16211 +Customer_ID= "Customer ID"n;
16212 +Label Customer_ID='Customer ID';
16213 +drop "Customer ID"n;
16214 +Membership_Type= "Membership Type"n;
16215 +Label Membership_Type='Membership Type';
16216 +drop "Membership Type"n;
16217 +Total_Spend= "Total Spend"n;
16218 +Label Total_Spend='Total Spend';
16219 +drop "Total Spend"n;
16220 +Items_Purchased= "Items Purchased"n;
16221 +Label Items_Purchased='Items Purchased';
16222 +drop "Items Purchased"n;
16223 +Average_Rating= "Average Rating"n;
16224 +Label Average_Rating='Average Rating';
16225 +drop "Average Rating"n;
16226 +Discount_Applied= "Discount Applied"n;
16227 +Label Discount_Applied='Discount Applied';
16228 +drop "Discount Applied"n;
16229 +Days_Since_Last_Purchase= "Days Since Last Purchase"n;
16230 +Label Days_Since_Last_Purchase='Days Since Last Purchase';
16231 +drop "Days Since Last Purchase"n;
16232 +Satisfaction_Level= "Satisfaction Level"n;
16233 +Label Satisfaction_Level='Satisfaction Level';
16234 +drop "Satisfaction Level"n;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _FI has been deassigned.

NOTE: There were 350 observations read from the data set EMWS1.FIMPORT_DATA.
NOTE: The data set EMWS1.FIMPORT_DATA has 350 observations and 11 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_EMCMETADEFAULT.
NOTE: The data set EMWS1.FIMPORT_EMCMETADEFAULT has 11 observations and 21 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 11 observations read from the data set WORK._NAMES.
NOTE: The data set WORK._NAMES has 11 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_EMCMETADEFAULT.
NOTE: There were 11 observations read from the data set WORK._NAMES.
NOTE: The data set EMWS1.FIMPORT_EMCMETADEFAULT has 11 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: Deleting WORK._ANY (memtype=DATA).
NOTE: Deleting WORK._V7 (memtype=DATA).
NOTE: Deleting WORK._NAMES (memtype=DATA).
NOTE: Deleting WORK.IMPORTFILE2 (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


16235  %let SYSCC = 0;
16236  data EMWS1.FIMPORT_EMTMETADEFAULT;
16237  length LIBNAME $8;
16238  LIBNAME = "EMWS1";
16239  run;

NOTE: The data set EMWS1.FIMPORT_EMTMETADEFAULT has 1 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: PROCEDURE DISPLAY used (Total process time):
      real time           0.05 seconds
      cpu time            0.01 seconds
      


NOTE: There were 1 observations read from the data set EMWS1.FIMPORT_EMTMETADEFAULT.
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 15 observations read from the data set EMWS1.FIMPORT_IMPORTSET.
NOTE: The data set EMWS1.FIMPORT_IMPORTSET has 15 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 15 observations read from the data set EMWS1.FIMPORT_IMPORTSET.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set EMWS1.FIMPORT_IMPORTSET has 15 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: %INCLUDE (level 1) file X is file C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\VARIABLESETDELTA.txt.
16268 +if NAME="Age" then do;
16269 +ROLE="INPUT";
16270 +LEVEL="INTERVAL";
16271 +ORDER="";
16272 +DROP="N";
16273 +end;
16274 +if NAME="Customer_ID" then do;
16275 +ROLE="ID";
16276 +LEVEL="INTERVAL";
16277 +ORDER="";
16278 +DROP="N";
16279 +end;
16280 +if NAME="Days_Since_Last_Purchase" then do;
16281 +ROLE="TARGET";
16282 +LEVEL="INTERVAL";
16283 +ORDER="";
16284 +DROP="N";
16285 +end;
16286 +if NAME="Discount_Applied" then do;
16287 +ROLE="TARGET";
16288 +LEVEL="BINARY";
16289 +ORDER="";
16290 +DROP="N";
16291 +end;
NOTE: %INCLUDE (level 1) ending.

NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_EMCMETADEFAULT.
NOTE: The data set EMWS1.FIMPORT_VARIABLESET has 11 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: Fileref X has been deassigned.

NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_VARIABLESET.
NOTE: There were 11 observations read from the data set EMWS1.FIMPORT_EMCMETADEFAULT.
NOTE: The data set WORK._DIFFMETA has 8 observations and 23 variables.
NOTE: PROCEDURE COMPARE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The file X1 is:
      Filename=C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\CDELTA_TRAIN.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=2024年01月07日 16时43分15秒,
      Create Time=2024年01月07日 01时45分30秒

NOTE: 21 records were written to the file X1.
      The minimum record length was 4.
      The maximum record length was 43.
NOTE: There were 4 observations read from the data set WORK._DIFFMETA.
      WHERE _type_='COMPARE';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: The file X2 is:
      Filename=C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\DELTACODE.txt,
      RECFM=V,LRECL=20000,File Size (bytes)=0,
      Last Modified=2024年01月07日 16时43分15秒,
      Create Time=2024年01月07日 01时49分29秒

NOTE: 21 records were written to the file X2.
      The minimum record length was 4.
      The maximum record length was 43.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: Fileref X1 has been deassigned.
NOTE: Fileref X2 has been deassigned.

NOTE: The file X is:
      Filename=C:\Users\Administrator\Desktop\NewProjectExam\Workspaces\EMWS1\FIMPORT\VARIABLESETDELTA.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=2024年01月07日 16时43分15秒,
      Create Time=2024年01月07日 01时49分29秒

NOTE: 24 records were written to the file X.
      The minimum record length was 4.
      The maximum record length was 43.
NOTE: There were 4 observations read from the data set WORK._DIFFMETA.
      WHERE _type_='COMPARE';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: Fileref X has been deassigned.

NOTE: Deleting WORK._DIFFMETA (memtype=DATA).

NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


NOTE: There were 6 observations read from the data set EMWS1.FIMPORT_EXPORTSET.
NOTE: The data set EMWS1.FIMPORT_EXPORTSET has 6 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      


NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The PROCEDURE CONTENTS printed page 2.


NOTE: The file WORK.NEW (memtype=DATA) was not found, but appears on a DELETE statement.
NOTE: Deleting WORK.IMPORTFILE (memtype=DATA).
NOTE: Deleting WORK.IMPORTATTRS (memtype=DATA).
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

16292  *------------------------------------------------------------*;
16293  * End TRAIN: FIMPORT;
16294  *------------------------------------------------------------*;

16295  *------------------------------------------------------------*;
16296  * Close any missing semi colons;
16297  *------------------------------------------------------------*;
16298  ;
16299  ;
16300  ;
16301  ;
16302  quit;
16303  *------------------------------------------------------------*;
16304  * Close any unbalanced quotes;
16305  *------------------------------------------------------------*;
16306  /*; *"; *'; */
16307  ;
16308  run;
16309  quit;
16310  /* Reset EM Options */
16311  options formchar="|----|+|---+=|-/\<>*";
16312  options nocenter ls=256 ps=10000;
16313  goptions reset=all device=GIF NODISPLAY;

